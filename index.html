<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>CSL Style by University-of-Worcester</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">CSL Style</h1>
      <h2 class="project-tagline">Managing the University of Worcester&#39;s Official CSL Style</h2>
      <a href="https://github.com/University-of-Worcester/styles" class="btn">View on GitHub</a>
      <a href="https://github.com/University-of-Worcester/styles/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/University-of-Worcester/styles/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p>How many times have you manually typed-out a citation or bibliography reference in your academic work? Well, by using the Citation Style Language you can make hours of tedious typing a thing of the past!
The Citation Style Language (henceforth, CSL) is an open-standard that tells referencing software how to automatically format a citation or bibliography reference when you want to insert one into a document. Software solutions like Mendeley and Talis Aspire allow you add sources to a database or collection and then chose the style in which to output a written reference. Each of these sources has attributes – the date, title, author and publisher of a book for instance – which are referenced differently depending on your institutions guidelines. Guidelines for the University of Worcester’s styles can be found <a href="http://www.worc.ac.uk/ils/documents/Harvard_referencing">here</a>.</p>

<h1>
<a id="the-gist" class="anchor" href="#the-gist" aria-hidden="true"><span class="octicon octicon-link"></span></a>The Gist</h1>

<p>All that’s required for software like Mendeley and Talis Aspire to automatically generate written citations and references is a CSL definition file (style-name.csl). These contain the syntactical rules for how a reference should be formatted, known as the layout, consisting of:</p>

<ul>
<li>Which of a source’s attributes are shown</li>
<li>In what order they are shown</li>
<li>How they are shown</li>
<li>How they are ‘linked and decorated’ with punctuation</li>
</ul>

<p>In most cases, the deciding factor that determines the above, is the type of source being referenced, though a lot of rules are also based around which attributes come before or after in a layout. If you look at the University’s guide, you’ll see that this is how each of the examples is presented.</p>

<p>As simple as this system is – and in many cases it’s all that’s required – CSL as a standard does not support the creation of formatting rules for every type of source. To complicate things further, the software that generates the written references may not support saving every type of source and may not always output the written reference as expected. When this happens, it falls to the user to compensate by saving their source as a type which ‘best-fits’ the actual type and/or manually modifying the generated reference to conform to their institution’s guidelines.</p>

<h1>
<a id="the-grit" class="anchor" href="#the-grit" aria-hidden="true"><span class="octicon octicon-link"></span></a>The Grit</h1>

<p>This section is intended for people looking to modify a style – specifically the University of Worcester CSL style – to update it and/or fix something that doesn’t quite work correctly. 
CSL files are XML-based so if you’ve ever done web development with HTML or CSS, even at a basic level, this will seem quite familiar.</p>

<p>CSL isn’t ‘difficult’ mechanically: Essentially it automates a process of taking data stored in one format and laying it out in another as defined by style files. All it requires is a certain level of domain-specific knowledge (citations and referencing) and mostly a lot of patience to get your head around all the idiosyncrasies of the standard and various tools which implement it.</p>

<p>It’s worth reading around the various parts of <a href="http://citationstyles.org/">citationstyles.org</a>, the official home of CSL, as they provide the best, most up to date information.</p>

<h2>
<a id="editing-csl-files" class="anchor" href="#editing-csl-files" aria-hidden="true"><span class="octicon octicon-link"></span></a>Editing CSL Files</h2>

<p>Below is an overview of tools and resources as well as some useful tips to help you have a good experience.
Firstly, make sure you have the “harvard-university-of-worcester.csl“ CSL file to hand, along with the “<a href="https://github.com/University-of-Worcester/styles/blob/gh-pages/docs/CSL%20Format%20Matrix%20(macros).xlsm?raw=true">CSL Format Matrix</a>” Excel document (enabling the macros for the best experience) which details how source-types and their attributes in the UoW Harvard Referencing guide map to those available in the <a href="http://docs.citationstyles.org/en/stable/specification.html">CSL Spec</a>. The latter may seem incomprehensible but as you become more familiar with the ways of CSL, it proves an invaluable reference and worth having open in a browser window.</p>

<p>As a CSL-style author or contributor you are free to use any tools you like to edit CSL files. You can open them in Notepad++ or any other text-editor and modify the mark-up directly. It’s well-worth having these tools to hand (they are the most dependable), however, CSL in this format is not especially human-readable when you’re trying to understand the entire layout.</p>

<p>A tool which is easier to use and designed for CSL editing is provided by Mendeley (which also produces a <a href="https://www.mendeley.com/download-mendeley-desktop/">desktop referencing tool</a>) aptly named the <a href="http://csl.mendeley.com/visualEditor/index.php">Visual CSL Editor</a>. They provide a good <a href="http://support.mendeley.com/customer/portal/articles/895771-getting-started-with-the-visual-csl-editor">guide</a> for the tool although there are some caveats:</p>

<ol>
<li>A Mendeley account is required (although free).</li>
<li>The tool is stuck in beta and not very reliable.</li>
</ol>
<p>The second issue can be a real cause for frustration; sometimes it will fail to save your changes for no good reason. To resolve this, not <em>if</em> but <em>when</em> the tool shows an error message;</p>

<ol>
<li>Click the “Code editor” tab at the top of the page</li>
<li>Copy all the mark-up in the lower pane</li>
<li>Paste this into a .txt file</li>
<li>Rename this file to be the same to your old .csl file</li>
<li>Refresh your browser with the editor</li>
<li>Load the new .csl file from your computer</li>
</ol>

<p>Perhaps the best advice though, is to save frequently. You can click the yellow notification that comes up to download your CSL file just after you save it to Mendeley’s cloud. This is highly recommended!</p>

<h2>
<a id="design" class="anchor" href="#design" aria-hidden="true"><span class="octicon octicon-link"></span></a>Design</h2>

<p>CSL files are not the <em>most</em> complex thing in the world when it comes to their overarching design but there is a certain rationale employed. For the University's CSL style:</p>
<p><h3>Implementation Notes - Version 1.0 -08/2015</h3> 
<b>Implementation Rationale</b> – The way I have chosen to approach the creation of this CSL Layout is from a philosophy of extensibility: Rather than have a format rule for every type of source, a generic layout has been defined based on the quantified, modal-average way in which the University of Worcester defines its layouts. Simply speaking, it caters to the lowest common denominator by displaying every attribute with a value provided, implementing rules on top of this for ‘special cases’.  
For example, most source types only list their year of publication, however, newspapers and broadcasts also require the month and day of month in their bibliography references. In such cases, a rule is defined that checks if the type is one of the aforementioned and if it is, adapts the layout accordingly.   
This system is especially useful when dealing with electronic sources. The CSL specification chooses not to differentiate whether a source is digital or physical on the basis that this should be inferred from its source location, such as a URL (and at the end of the day, the content is the same regardless). With an extensibility-based rule in place, if a source URL and date of access are provided with any source type, they will be displayed appropriately. 
<p> 
<b>Miscellaneous Implicit CSL Mapping Rules</b> – there are many rules that have been implemented in the current University of Worcester CSL style definition that do not explicitly map to the CSL specification: They are interpretations – decisions made by the style author – which may be incompatible with how some software handles sources, possibly affecting the output format. All of the mapping can be seen in the CSL Format Matrix with extra detail provided by comments. Some of the more nuanced rules and decisions are; 
<li>If there is no Author provided, the title is used first, italicised, before the date of publication</li> 
<li>The ‘original-title’ variable is used for work that was originally titled in another language, appearing after the standard title, italicised in square-braces</li> 
<li>The ‘genre’ variable is used for attributes like “BA Hons” and other somewhat miscellaneous things</li> 
<p> 
<b>CSL Issues</b> – These are things included in the University of Worcester’s guide but currently not catered for by the CSL spec. 
<li>No ability to parse the value of a variable in an individual source (only if it has a value or not). For example, this prevents the ability to distinguish Acts of Parliament prior to 1963 – which require a different format – because the actual value “1963” cannot be used in conditional logic.</li> 
<li>Many of the variables for series/chapter/volume/issue etc. only accept a numeric value and not an alpha-numeric value such as “SKT27” </li> 
</body> 
</p>

<h2>
<a id="verification-and-validation" class="anchor" href="#verification-and-validation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Verification and Validation</h2>

<p>A secondary utility of the Visual editor tool is as a visual-verifier; enabling you to see the effects of your changes ‘live’ which proves exceptionally handy. Some example citation sources are provided but these don’t cover every source-type. Hidden under Example Citations &gt; Citation 1/2/3 &gt; Advanced is the ability to import your own sources. The simplest way to do so is with the Mendeley desktop software, as outlined on this <a href="http://support.mendeley.com/customer/portal/articles/960892-add-new-citation-example-in-the-visual-csl-editor">page</a>. You will have to manually modify some JSON to get all the different source types – Mendeley doesn’t use them all either – but they’re fairly easy to understand provided you have the CSL Spec to hand. This way, you can check if you’ve fixed the issue using the exact source which gave you trouble in the first place.</p>

<p>Once you’re happy with your updated style, validate it meets the CSL specification requirements by running it through the dedicated <a href="http://validator.citationstyles.org/">validator tool</a>. It will point out anything that’s wrong with a good level of specificity so can also be helpful in fixing anything that may have inadvertently been mucked-up.</p>

<h2>
<a id="submitting-csl-styles" class="anchor" href="#submitting-csl-styles" aria-hidden="true"><span class="octicon octicon-link"></span></a>Submitting CSL Styles</h2>

<p>This section is necessarily short as the GitHub repository of the citation-style-language (the one this project is forked from) already has a great <a href="https://github.com/citation-style-language/styles/blob/master/CONTRIBUTING.md">Guide to Submitting CSL Styles</a> which will be up-to-date regarding how to perform this process. The only advice here is to follow the instructions very carefully.
To do so, you will need the University of Worcester’s GitHub account credentials which can be attained by contacting your ILS liaison. </p>

<hr>

<p>Last updated by Chris a.k.a. <a href="https://github.com/OctanMan" class="user-mention">@OctanMan</a> on 08/08/2015</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/University-of-Worcester/styles">CSL Style</a> is maintained by <a href="https://github.com/University-of-Worcester">University-of-Worcester</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
